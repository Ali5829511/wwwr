-- ============================================
-- بيانات تجريبية - نظام إدارة المرور
-- وحدة إسكان هيئة التدريس
-- ============================================

USE traffic_management_system;

-- ============================================
-- 1. إدراج المباني (Buildings)
-- ============================================

-- المباني القديمة (30 عمارة)
INSERT INTO buildings (building_number, building_name, building_type, building_category, total_units, total_parking, location) VALUES
('1', 'عمارة 1', 'عمارة', 'قديم', 20, 20, 'المباني القديمة'),
('2', 'عمارة 2', 'عمارة', 'قديم', 20, 20, 'المباني القديمة'),
('3', 'عمارة 3', 'عمارة', 'قديم', 20, 20, 'المباني القديمة'),
('18', 'عمارة 18', 'عمارة', 'قديم', 20, 38, 'المباني القديمة - مواقف معاقين'),
('30', 'عمارة 30', 'عمارة', 'قديم', 20, 20, 'المباني القديمة');

-- المباني الجديدة (21 عمارة)
INSERT INTO buildings (building_number, building_name, building_type, building_category, total_units, total_parking, location) VALUES
('53', 'عمارة 53', 'عمارة', 'جديد', 20, 20, 'المباني الجديدة'),
('54', 'عمارة 54', 'عمارة', 'جديد', 20, 20, 'المباني الجديدة'),
('61', 'عمارة 61', 'عمارة', 'جديد', 20, 20, 'المباني الجديدة'),
('68', 'عمارة 68', 'عمارة', 'جديد', 20, 20, 'المباني الجديدة'),
('71', 'عمارة 71', 'عمارة', 'جديد', 20, 20, 'المباني الجديدة'),
('79', 'عمارة 79', 'عمارة', 'جديد', 20, 21, 'المباني الجديدة - مواقف معاقين');

-- الفلل
INSERT INTO buildings (building_number, building_name, building_type, building_category, total_units, total_parking, location) VALUES
('V1', 'فلة 1', 'فلة', 'فلل', 1, 0, 'منطقة الفلل'),
('V2', 'فلة 2', 'فلة', 'فلل', 1, 0, 'منطقة الفلل'),
('V3', 'فلة 3', 'فلة', 'فلل', 1, 0, 'منطقة الفلل');

-- ============================================
-- 2. إدراج الوحدات السكنية (Residential Units)
-- ============================================

-- شقق عمارة 1 (المباني القديمة)
INSERT INTO residential_units (building_id, unit_number, unit_name, unit_type, floor_number, is_occupied, occupancy_status) VALUES
(1, '1', 'شقة 01 عمارة 1', 'شقة', 0, TRUE, 'مشغول'),
(1, '2', 'شقة 02 عمارة 1', 'شقة', 0, TRUE, 'مشغول'),
(1, '3', 'شقة 03 عمارة 1', 'شقة', 0, FALSE, 'شاغر'),
(1, '4', 'شقة 04 عمارة 1', 'شقة', 0, TRUE, 'مشغول'),
(1, '11', 'شقة 11 عمارة 1', 'شقة', 1, TRUE, 'مشغول'),
(1, '12', 'شقة 12 عمارة 1', 'شقة', 1, TRUE, 'مشغول'),
(1, '13', 'شقة 13 عمارة 1', 'شقة', 1, FALSE, 'شاغر'),
(1, '14', 'شقة 14 عمارة 1', 'شقة', 1, TRUE, 'مشغول'),
(1, '21', 'شقة 21 عمارة 1', 'شقة', 2, TRUE, 'مشغول'),
(1, '22', 'شقة 22 عمارة 1', 'شقة', 2, TRUE, 'مشغول'),
(1, '23', 'شقة 23 عمارة 1', 'شقة', 2, TRUE, 'مشغول'),
(1, '24', 'شقة 24 عمارة 1', 'شقة', 2, TRUE, 'مشغول'),
(1, '31', 'شقة 31 عمارة 1', 'شقة', 3, TRUE, 'مشغول'),
(1, '32', 'شقة 32 عمارة 1', 'شقة', 3, TRUE, 'مشغول'),
(1, '33', 'شقة 33 عمارة 1', 'شقة', 3, TRUE, 'مشغول'),
(1, '34', 'شقة 34 عمارة 1', 'شقة', 3, FALSE, 'شاغر'),
(1, '41', 'شقة 41 عمارة 1', 'شقة', 4, TRUE, 'مشغول'),
(1, '42', 'شقة 42 عمارة 1', 'شقة', 4, TRUE, 'مشغول'),
(1, '43', 'شقة 43 عمارة 1', 'شقة', 4, TRUE, 'مشغول'),
(1, '44', 'شقة 44 عمارة 1', 'شقة', 4, TRUE, 'مشغول');

-- شقق عمارة 53 (المباني الجديدة)
INSERT INTO residential_units (building_id, unit_number, unit_name, unit_type, floor_number, is_occupied, occupancy_status) VALUES
(6, '11', 'شقة 11 عمارة 53', 'شقة', 1, TRUE, 'مشغول'),
(6, '12', 'شقة 12 عمارة 53', 'شقة', 1, TRUE, 'مشغول'),
(6, '13', 'شقة 13 عمارة 53', 'شقة', 1, FALSE, 'شاغر'),
(6, '21', 'شقة 21 عمارة 53', 'شقة', 2, TRUE, 'مشغول'),
(6, '22', 'شقة 22 عمارة 53', 'شقة', 2, TRUE, 'مشغول'),
(6, '23', 'شقة 23 عمارة 53', 'شقة', 2, TRUE, 'مشغول'),
(6, '31', 'شقة 31 عمارة 53', 'شقة', 3, TRUE, 'مشغول'),
(6, '32', 'شقة 32 عمارة 53', 'شقة', 3, TRUE, 'مشغول'),
(6, '33', 'شقة 33 عمارة 53', 'شقة', 3, TRUE, 'مشغول'),
(6, '41', 'شقة 41 عمارة 53', 'شقة', 4, TRUE, 'مشغول'),
(6, '42', 'شقة 42 عمارة 53', 'شقة', 4, TRUE, 'مشغول'),
(6, '43', 'شقة 43 عمارة 53', 'شقة', 4, FALSE, 'شاغر'),
(6, '51', 'شقة 51 عمارة 53', 'شقة', 5, TRUE, 'مشغول'),
(6, '52', 'شقة 52 عمارة 53', 'شقة', 5, TRUE, 'مشغول'),
(6, '53', 'شقة 53 عمارة 53', 'شقة', 5, TRUE, 'مشغول'),
(6, '61', 'شقة 61 عمارة 53', 'شقة', 6, TRUE, 'مشغول'),
(6, '62', 'شقة 62 عمارة 53', 'شقة', 6, TRUE, 'مشغول'),
(6, '63', 'شقة 63 عمارة 53', 'شقة', 6, TRUE, 'مشغول'),
(6, '71', 'شقة 71 عمارة 53', 'شقة', 7, TRUE, 'مشغول'),
(6, '72', 'شقة 72 عمارة 53', 'شقة', 7, TRUE, 'مشغول');

-- الفلل
INSERT INTO residential_units (building_id, unit_number, unit_name, unit_type, floor_number, is_occupied, occupancy_status) VALUES
(12, '0', 'فلة 1', 'فلة', 0, TRUE, 'مشغول'),
(13, '0', 'فلة 2', 'فلة', 0, TRUE, 'مشغول'),
(14, '0', 'فلة 3', 'فلة', 0, FALSE, 'شاغر');

-- ============================================
-- 3. إدراج المواقف (Parking Spaces)
-- ============================================

-- مواقف خاصة لعمارة 1
INSERT INTO parking_spaces (parking_number, parking_type, parking_zone, building_id, unit_id, is_occupied, location_description) VALUES
('P1-01', 'خاص', 'A', 1, 1, TRUE, 'موقف شقة 01 عمارة 1'),
('P1-02', 'خاص', 'A', 1, 2, TRUE, 'موقف شقة 02 عمارة 1'),
('P1-03', 'خاص', 'A', 1, 3, FALSE, 'موقف شقة 03 عمارة 1'),
('P1-04', 'خاص', 'A', 1, 4, TRUE, 'موقف شقة 04 عمارة 1');

-- مواقف عامة
INSERT INTO parking_spaces (parking_number, parking_type, parking_zone, is_occupied, location_description) VALUES
('PG-001', 'عام', 'عام', FALSE, 'موقف عام 1'),
('PG-002', 'عام', 'عام', FALSE, 'موقف عام 2'),
('PG-003', 'عام', 'عام', TRUE, 'موقف عام 3'),
('PG-004', 'عام', 'عام', FALSE, 'موقف عام 4');

-- مواقف معاقين في عمارة 18
INSERT INTO parking_spaces (parking_number, parking_type, parking_zone, building_id, is_occupied, location_description) VALUES
('PD-18-01', 'معاقين', 'معاقين', 4, FALSE, 'موقف معاقين عمارة 18 - رقم 1'),
('PD-18-02', 'معاقين', 'معاقين', 4, FALSE, 'موقف معاقين عمارة 18 - رقم 2'),
('PD-18-03', 'معاقين', 'معاقين', 4, FALSE, 'موقف معاقين عمارة 18 - رقم 3');

-- مواقف معاقين في عمارة 79
INSERT INTO parking_spaces (parking_number, parking_type, parking_zone, building_id, is_occupied, location_description) VALUES
('PD-79-01', 'معاقين', 'معاقين', 11, FALSE, 'موقف معاقين عمارة 79 - رقم 1'),
('PD-79-02', 'معاقين', 'معاقين', 11, FALSE, 'موقف معاقين عمارة 79 - رقم 2');

-- ============================================
-- 4. إدراج السكان (Residents)
-- ============================================

INSERT INTO residents (national_id, full_name, phone, email, unit_id, job_title, department, family_members, move_in_date, is_active) VALUES
('1012345678', 'د. أحمد محمد العلي', '0501234567', 'ahmad.ali@imam.edu.sa', 1, 'أستاذ مشارك', 'كلية الشريعة', 5, '2023-01-15', TRUE),
('1023456789', 'د. محمد عبدالله السعيد', '0502345678', 'mohammed.said@imam.edu.sa', 2, 'أستاذ مساعد', 'كلية اللغة العربية', 4, '2023-02-20', TRUE),
('1034567890', 'د. عبدالرحمن خالد الحربي', '0503456789', 'abdulrahman.harbi@imam.edu.sa', 4, 'أستاذ', 'كلية أصول الدين', 6, '2022-09-10', TRUE),
('1045678901', 'د. خالد سعد المطيري', '0504567890', 'khaled.mutairi@imam.edu.sa', 5, 'أستاذ مشارك', 'كلية الاقتصاد', 3, '2023-03-25', TRUE),
('1056789012', 'د. سعد فهد القحطاني', '0505678901', 'saad.qahtani@imam.edu.sa', 6, 'أستاذ مساعد', 'كلية الحاسب', 4, '2023-04-10', TRUE),
('1067890123', 'د. فهد عبدالعزيز الدوسري', '0506789012', 'fahad.dosari@imam.edu.sa', 7, 'أستاذ', 'كلية الهندسة', 5, '2022-08-15', TRUE),
('1078901234', 'د. عبدالعزيز ناصر الشمري', '0507890123', 'abdulaziz.shamri@imam.edu.sa', 8, 'أستاذ مشارك', 'كلية العلوم', 4, '2023-05-20', TRUE),
('1089012345', 'د. ناصر علي العتيبي', '0508901234', 'nasser.otaibi@imam.edu.sa', 9, 'أستاذ مساعد', 'كلية الطب', 6, '2023-06-01', TRUE),
('1090123456', 'د. علي حسن الزهراني', '0509012345', 'ali.zahrani@imam.edu.sa', 10, 'أستاذ', 'كلية الصيدلة', 3, '2022-07-12', TRUE),
('1101234567', 'د. حسن إبراهيم الغامدي', '0501234568', 'hasan.ghamdi@imam.edu.sa', 11, 'أستاذ مشارك', 'كلية التربية', 5, '2023-07-15', TRUE);

-- ============================================
-- 5. إدراج السيارات (Vehicles)
-- ============================================

INSERT INTO vehicles (plate_number, plate_number_ar, resident_id, vehicle_make, vehicle_model, vehicle_year, vehicle_color, vehicle_type, parking_id, is_registered, registration_date) VALUES
('ABC1234', 'أ ب ج 1234', 1, 'Toyota', 'Camry', 2022, 'أبيض', 'سيدان', 1, TRUE, '2023-01-20'),
('XYZ5678', 'س ص ع 5678', 2, 'Honda', 'Accord', 2021, 'فضي', 'سيدان', 2, TRUE, '2023-02-25'),
('DEF9012', 'د هـ و 9012', 3, 'Nissan', 'Altima', 2023, 'أسود', 'سيدان', 4, TRUE, '2022-09-15'),
('GHI3456', 'ج ح ط 3456', 4, 'Hyundai', 'Sonata', 2022, 'أزرق', 'سيدان', 5, TRUE, '2023-03-30'),
('JKL7890', 'ك ل م 7890', 5, 'Kia', 'Optima', 2021, 'أحمر', 'سيدان', 6, TRUE, '2023-04-15'),
('MNO1234', 'ن س ع 1234', 6, 'Chevrolet', 'Malibu', 2023, 'أبيض', 'سيدان', 7, TRUE, '2022-08-20'),
('PQR5678', 'ف ق ر 5678', 7, 'Ford', 'Fusion', 2022, 'رمادي', 'سيدان', 8, TRUE, '2023-05-25'),
('STU9012', 'ش ت ث 9012', 8, 'Mazda', 'Mazda6', 2021, 'أزرق', 'سيدان', 9, TRUE, '2023-06-05'),
('VWX3456', 'و ي ز 3456', 9, 'Volkswagen', 'Passat', 2023, 'أسود', 'سيدان', 10, TRUE, '2022-07-18'),
('YZA7890', 'ي ظ غ 7890', 10, 'BMW', '530i', 2022, 'فضي', 'سيدان', 11, TRUE, '2023-07-20');

-- سيارة ثانية لبعض السكان
INSERT INTO vehicles (plate_number, plate_number_ar, resident_id, vehicle_make, vehicle_model, vehicle_year, vehicle_color, vehicle_type, is_registered, registration_date) VALUES
('BCD2345', 'ب ج د 2345', 1, 'GMC', 'Yukon', 2023, 'أسود', 'SUV', TRUE, '2023-02-01'),
('EFG6789', 'هـ و ز 6789', 3, 'Toyota', 'Land Cruiser', 2022, 'أبيض', 'SUV', TRUE, '2022-10-01');

-- ============================================
-- 6. إدراج ملصقات السيارات (Vehicle Stickers)
-- ============================================

INSERT INTO vehicle_stickers (vehicle_id, resident_id, sticker_status, issue_date, expiry_date, qr_code, license_number) VALUES
(1, 1, 'فعال', '2023-01-20', '2024-01-20', 'QR-2023-001', 'LIC-001-2023'),
(2, 2, 'فعال', '2023-02-25', '2024-02-25', 'QR-2023-002', 'LIC-002-2023'),
(3, 3, 'فعال', '2022-09-15', '2023-09-15', 'QR-2022-003', 'LIC-003-2022'),
(4, 4, 'فعال', '2023-03-30', '2024-03-30', 'QR-2023-004', 'LIC-004-2023'),
(5, 5, 'فعال', '2023-04-15', '2024-04-15', 'QR-2023-005', 'LIC-005-2023'),
(6, 6, 'فعال', '2022-08-20', '2023-08-20', 'QR-2022-006', 'LIC-006-2022'),
(7, 7, 'فعال', '2023-05-25', '2024-05-25', 'QR-2023-007', 'LIC-007-2023'),
(8, 8, 'فعال', '2023-06-05', '2024-06-05', 'QR-2023-008', 'LIC-008-2023'),
(9, 9, 'فعال', '2022-07-18', '2023-07-18', 'QR-2022-009', 'LIC-009-2022'),
(10, 10, 'فعال', '2023-07-20', '2024-07-20', 'QR-2023-010', 'LIC-010-2023'),
(11, 1, 'فعال', '2023-02-01', '2024-02-01', 'QR-2023-011', 'LIC-011-2023'),
(12, 3, 'فعال', '2022-10-01', '2023-10-01', 'QR-2022-012', 'LIC-012-2022');

-- ملصقات ملغاة
INSERT INTO vehicle_stickers (vehicle_id, resident_id, sticker_status, issue_date, expiry_date, qr_code, license_number, notes) VALUES
(3, 3, 'ملغي', '2021-09-15', '2022-09-15', 'QR-2021-013', 'LIC-013-2021', 'ملصق قديم تم إلغاؤه'),
(6, 6, 'منتهي', '2021-08-20', '2022-08-20', 'QR-2021-014', 'LIC-014-2021', 'ملصق منتهي الصلاحية');

-- ============================================
-- 7. إدراج المخالفات المرورية (Traffic Violations)
-- ============================================

INSERT INTO traffic_violations (violation_number, vehicle_id, plate_number, resident_id, violation_type, violation_date, violation_time, location, building_id, violation_status, fine_amount, is_paid, officer_name, source) VALUES
('V-2023-001', 1, 'ABC1234', 1, 'وقوف في موقف معاقين', '2023-10-15', '14:30:00', 'عمارة 18', 4, 'مؤكد', 500.00, FALSE, 'أحمد السعيد', 'يدوي'),
('V-2023-002', 2, 'XYZ5678', 2, 'وقوف في ممر طوارئ', '2023-10-20', '09:15:00', 'عمارة 1', 1, 'مؤكد', 300.00, TRUE, 'محمد الغامدي', 'يدوي'),
('V-2023-003', 3, 'DEF9012', 3, 'وقوف مزدوج', '2023-10-25', '16:45:00', 'عمارة 53', 6, 'مؤكد', 200.00, FALSE, 'خالد العتيبي', 'يدوي'),
('V-2023-004', 1, 'ABC1234', 1, 'وقوف في موقف خاص لغيره', '2023-11-01', '11:20:00', 'عمارة 2', 2, 'قيد المراجعة', 150.00, FALSE, 'سعد المطيري', 'كاميرا'),
('V-2023-005', 3, 'DEF9012', 3, 'وقوف في موقف معاقين', '2023-11-05', '13:00:00', 'عمارة 79', 11, 'مؤكد', 500.00, FALSE, 'فهد الدوسري', 'يدوي'),
('V-2023-006', 5, 'JKL7890', 5, 'تجاوز السرعة المحددة', '2023-11-08', '08:30:00', 'الشارع الرئيسي', NULL, 'جديد', 300.00, FALSE, 'علي الزهراني', 'كاميرا'),
('V-2023-007', 1, 'ABC1234', 1, 'وقوف مزدوج', '2023-11-10', '15:10:00', 'عمارة 1', 1, 'مؤكد', 200.00, FALSE, 'حسن الغامدي', 'يدوي');

-- مخالفات لسيارات غير مسجلة
INSERT INTO traffic_violations (violation_number, plate_number, violation_type, violation_date, violation_time, location, violation_status, fine_amount, is_paid, officer_name, source, notes) VALUES
('V-2023-008', 'UNK1111', 'وقوف بدون ملصق', '2023-11-12', '10:00:00', 'موقف عام', 'جديد', 100.00, FALSE, 'ناصر العتيبي', 'بلاغ', 'سيارة غير مسجلة في النظام'),
('V-2023-009', 'UNK2222', 'وقوف في موقف خاص', '2023-11-13', '12:30:00', 'عمارة 3', 'قيد المراجعة', 150.00, FALSE, 'أحمد السعيد', 'يدوي', 'سيارة غير مسجلة');

-- ============================================
-- 8. إدراج صور محللة تجريبية (Analyzed Images)
-- ============================================

INSERT INTO analyzed_images (image_path, image_name, plate_number, vehicle_type, vehicle_color, confidence_score, analysis_date, is_matched, matched_vehicle_id, repeat_count, image_category) VALUES
('/uploads/images/car1.jpg', 'car1.jpg', 'ABC1234', 'سيدان', 'أبيض', 95.50, '2023-11-01 10:30:00', TRUE, 1, 3, 'مخالفة'),
('/uploads/images/car2.jpg', 'car2.jpg', 'XYZ5678', 'سيدان', 'فضي', 92.30, '2023-11-02 14:15:00', TRUE, 2, 1, 'عام'),
('/uploads/images/car3.jpg', 'car3.jpg', 'DEF9012', 'سيدان', 'أسود', 98.70, '2023-11-03 09:45:00', TRUE, 3, 2, 'مخالفة'),
('/uploads/images/car4.jpg', 'car4.jpg', 'UNK3333', 'SUV', 'أبيض', 88.20, '2023-11-04 16:20:00', FALSE, NULL, 1, 'مخالفة'),
('/uploads/images/car5.jpg', 'car5.jpg', 'GHI3456', 'سيدان', 'أزرق', 94.10, '2023-11-05 11:00:00', TRUE, 4, 1, 'موقف_خاص');

-- ============================================
-- ملاحظات
-- ============================================

/*
البيانات التجريبية المدرجة:
- 14 مبنى (5 قديم، 6 جديد، 3 فلل)
- 43 وحدة سكنية (40 شقة، 3 فلل)
- 10 سكان
- 12 سيارة
- 14 ملصق (12 فعال، 1 ملغي، 1 منتهي)
- 9 مخالفة
- 5 صورة محللة
- 15 موقف (4 خاص، 4 عام، 5 معاقين)

هذه البيانات للاختبار فقط ويجب استبدالها بالبيانات الحقيقية في بيئة الإنتاج.
*/
